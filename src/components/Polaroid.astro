---
interface Props {
  src: string;
  size?: "sm" | "md" | "lg";
  date?: string;
  location?: string;
  class?: string;
}

const {
  src,
  size = "md",
  date = "",
  location = "",
  class: className,
} = Astro.props;

const imgRounding = "rounded-xs";
---

<div
  class:list={[
    "relative group bg-white rounded-sm h-fit shadow-2xl px-3 pt-3 transition-all duration-300 ease-[cubic-bezier(0.77,0,0.175,1)]",
    // Hover
    "hover:scale-105 hover:rotate-0",
    // Size
    size === "sm" ? "w-72 h-72" : "",
    size === "md" ? "w-80 h-80" : "",
    size === "lg" ? "w-96 h-96" : "",
    // Extra classes
    className,
  ]}
>
  <div class="relative">
    {
      date || location ? (
        <div class="absolute -top-10 left-1/2 -translate-x-1/2 text-xs text-white bg-gray-900 rounded-sm px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity delay-0 group-hover:delay-200 group-hover:duration-300 pointer-events-none">
          <div class="relative z-10">
            <pre>{`${date}${date && location ? ", " : ""}${location}`}</pre>
          </div>
          <div class="bg-gray-900 size-4 absolute left-1/2 -translate-x-1/2 -bottom-0.5 rotate-45 z-0" />
        </div>
      ) : null
    }
    <div class:list={["h-full w-full test-shadow absolute", imgRounding]}></div>
    <img
      src={src}
      class:list={[
        "object-cover shadow-inner relative -z-10",
        imgRounding,
        size === "sm" ? "w-72 h-72" : "",
        size === "md" ? "w-80 h-80" : "",
        size === "lg" ? "w-96 h-96" : "",
      ]}
    />
  </div>
  <div class="min-h-13 pb-5">
    <slot />
  </div>
</div>
